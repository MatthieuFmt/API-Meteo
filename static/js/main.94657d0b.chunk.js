(this["webpackJsonpapi-meteo"]=this["webpackJsonpapi-meteo"]||[]).push([[0],{10:function(e,t,c){},11:function(e,t,c){},13:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(4),s=c.n(i),r=(c(10),c(2)),o=c(5),d=(c(11),c(0));function l(){var e=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],t=Object(a.useState)({description:"",icon:"",temperature:"",humidity:"",wind:"",city:"",firstCall:!0,dayNight:"",tempMax:[],tempMin:[],prevWeek:[],prevIcon:[]}),c=Object(o.a)(t,2),n=c[0],i=c[1];console.log(n);var s="/API-Meteo"+"/assets/".concat(n.dayNight,"/").concat(n.icon,".svg");console.log(s);var l=(new Date).getHours(),j=(new Date).getDate(),m=(new Date).getMonth()+1,p=(new Date).getFullYear(),u=(new Date).toLocaleDateString("fr-FR",{weekday:"long"});u=u.charAt(0).toLocaleUpperCase()+u.slice(1);var h=e.slice(e.indexOf(u)).concat(e.slice(0,e.indexOf(u))),b="".concat(j<10?"0".concat(j):j,"/").concat(m<10?"0".concat(m):m,"/").concat(p);return Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){!function(e,t){fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t,"&lon=").concat(e,"&exclude=minutely&lang=fr&units=metric&appid=").concat("fdcf4f88380f694ed4370fe3f5f0dafa")).then((function(e){return e.json()})).then((function(e){var t=Object(r.a)({},n);t.description=e.current.weather[0].description,t.icon=e.current.weather[0].icon,t.temperature="".concat(Math.trunc(e.current.temp),"\xb0"),t.humidity="".concat(e.current.humidity,"%"),t.wind="".concat(e.current.wind_speed,"Km/h"),t.city=e.timezone,t.dayNight=l>=6&&l<21?"jour":"nuit";for(var c=Object(r.a)({},n),a=Object(r.a)({},n),s=Object(r.a)({},n),o=Object(r.a)({},n),d=1;d<e.daily.length;d++)c.tempMax.push(e.daily[d].temp.max),a.tempMin.push(e.daily[d].temp.min),s.prevWeek.push(e.daily[d].weather[0].description),o.prevIcon.push(e.daily[d].weather[0].icon);i(c,a,s),i(t)}))}(e.coords.longitude,e.coords.latitude)}),(function(){alert("La localisation est d\xe9sactiv\xe9")}))}),[]),Object(d.jsxs)("div",{className:"grid-meteo",children:[Object(d.jsx)("div",{className:"city",children:n.city}),Object(d.jsxs)("div",{className:"date",children:[Object(d.jsx)("div",{className:"now",children:u}),Object(d.jsx)("div",{className:"full-date",children:b})]}),Object(d.jsxs)("div",{className:"infos",children:[Object(d.jsx)("div",{className:"temp",children:n.temperature}),Object(d.jsx)("div",{className:"description",children:n.description}),Object(d.jsxs)("div",{className:"other-info",children:[Object(d.jsxs)("span",{children:["Humidit\xe9: ",Object(d.jsx)("br",{}),n.humidity]}),Object(d.jsxs)("span",{children:["Vent: ",Object(d.jsx)("br",{}),n.wind]})]})]}),Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:s})}),Object(d.jsx)("div",{className:"prev",children:h.map((function(e,t){return Object(d.jsxs)("div",{className:"days ",children:[Object(d.jsxs)("div",{className:"week-day",children:[e.slice(0,3),"."]}),Object(d.jsx)("div",{className:"icon-week",children:Object(d.jsx)("img",{src:"/API-Meteo"+"/assets/jour/".concat(n.prevIcon[t],".svg"),alt:""})}),Object(d.jsxs)("div",{className:"min-max",children:[Object(d.jsx)("span",{className:"max",children:n.tempMax[t]}),"/",Object(d.jsx)("span",{className:"min",children:n.tempMin[t]})]}),Object(d.jsx)("div",{className:"prev-week",children:n.prevWeek[t]})]},t)}))})]})}var j=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(l,{})})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.94657d0b.chunk.js.map