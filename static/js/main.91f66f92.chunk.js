(this["webpackJsonpapi-meteo"]=this["webpackJsonpapi-meteo"]||[]).push([[0],{10:function(e,c,t){},11:function(e,c,t){},13:function(e,c,t){"use strict";t.r(c);var n=t(1),a=t.n(n),i=t(4),r=t.n(i),s=(t(10),t(2)),o=t(5),d=(t(11),t(0));function l(){var e=["Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Dimanche"],c=Object(n.useState)({description:"",icon:"",temperature:"",humidity:"",wind:"",city:"",firstCall:!0,dayNight:"",tempMax:[],tempMin:[],prevWeek:[],prevIcon:[],background:""}),t=Object(o.a)(c,2),a=t[0],i=t[1];console.log(a);var r="/API-Meteo"+"/assets/".concat(a.dayNight,"/").concat(a.icon,".svg"),l="/API-Meteo"+"/assets/background/bg".concat(a.background,".jpg"),j=(new Date).getHours(),u=(new Date).getDate(),h=(new Date).getMonth()+1,m=(new Date).getFullYear(),p=(new Date).toLocaleDateString("fr-FR",{weekday:"long"});p=p.charAt(0).toLocaleUpperCase()+p.slice(1);var b=e.slice(e.indexOf(p)).concat(e.slice(0,e.indexOf(p))),O="".concat(u<10?"0".concat(u):u,"/").concat(h<10?"0".concat(h):h,"/").concat(m);return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){!function(e,c){fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(c,"&lon=").concat(e,"&exclude=minutely&lang=fr&units=metric&appid=").concat("fdcf4f88380f694ed4370fe3f5f0dafa")).then((function(e){return e.json()})).then((function(e){var c=Object(s.a)({},a);c.description=e.current.weather[0].description,c.icon=e.current.weather[0].icon,c.temperature="".concat(Math.trunc(e.current.temp),"\xb0"),c.humidity="".concat(e.current.humidity,"%"),c.wind="".concat(e.current.wind_speed,"Km/h"),c.city=e.timezone,c.dayNight=j>=6&&j<21?"jour":"nuit";for(var t=Object(s.a)({},a),n=Object(s.a)({},a),r=Object(s.a)({},a),o=Object(s.a)({},a),d=1;d<e.daily.length;d++)t.tempMax.push(e.daily[d].temp.max),n.tempMin.push(e.daily[d].temp.min),r.prevWeek.push(e.daily[d].weather[0].description),o.prevIcon.push(e.daily[d].weather[0].icon);"01d"===e.current.weather[0].icon?c.background="1":"02d"===e.current.weather[0].icon?c.background="2":"03d"===e.current.weather[0].icon||"04d"===e.current.weather[0].icon||"50d"===e.current.weather[0].icon?c.background="3":"09d"===e.current.weather[0].icon||"10d"===e.current.weather[0].icon?c.background="4":"11d"===e.current.weather[0].icon?c.background="5":"13d"===e.current.weather[0].icon&&(c.background="6"),i(t,n,r),i(c),console.log(e)}))}(e.coords.longitude,e.coords.latitude)}),(function(){alert("La localisation est d\xe9sactiv\xe9")}))}),[]),Object(d.jsx)("div",{className:"container-meteo",style:{background:"url(".concat(l,") repeat center / cover")},children:Object(d.jsxs)("div",{className:"grid-meteo",children:[Object(d.jsxs)("div",{className:"top",children:[Object(d.jsx)("div",{className:"city",children:a.city}),Object(d.jsxs)("div",{className:"date",children:[Object(d.jsx)("div",{className:"now",children:p}),Object(d.jsx)("div",{className:"full-date",children:O})]})]}),Object(d.jsxs)("div",{className:"middle",children:[Object(d.jsxs)("div",{className:"infos",children:[Object(d.jsxs)("div",{className:"temp",children:[" ",a.temperature]}),Object(d.jsx)("div",{className:"description",children:a.description}),Object(d.jsxs)("div",{className:"other-info",children:[Object(d.jsxs)("span",{children:["Humidit\xe9: ",Object(d.jsx)("br",{}),a.humidity]}),Object(d.jsxs)("span",{children:["Vent: ",Object(d.jsx)("br",{}),a.wind]})]})]}),Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:r})})]}),Object(d.jsx)("div",{className:"bottom",children:b.map((function(e,c){return Object(d.jsxs)("div",{className:"days ",children:[Object(d.jsxs)("div",{className:"week-day",children:[e.slice(0,3),"."]}),Object(d.jsx)("div",{className:"icon-week",children:Object(d.jsx)("img",{src:"/API-Meteo"+"/assets/jour/".concat(a.prevIcon[c],".svg"),alt:""})}),Object(d.jsxs)("div",{className:"min-max",children:[Object(d.jsx)("span",{className:"max",children:a.tempMax[c]}),"/",Object(d.jsx)("span",{className:"min",children:a.tempMin[c]})]}),Object(d.jsx)("div",{className:"prev-week",children:a.prevWeek[c]})]},c)}))})]})})}var j=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(l,{})})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.91f66f92.chunk.js.map